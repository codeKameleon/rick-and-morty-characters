let e=JSON.parse(localStorage.getItem("characters"))||[];const t=document.querySelector(".searchbar"),a=document.querySelector(".autocomplete-results"),n=document.querySelector(".characters"),c=document.querySelector(".load-more-btn");let o=0,s=!1;const r=async()=>{o++;const t=`https://rickandmortyapi.com/api/character?page=${o}`,a=await fetch(t),n=(await a.json()).results;if(0==e.length||s){for(let t=0;t<n.length;t++)e.push(n[t]);localStorage.setItem("characters",JSON.stringify(e)),d(e)}},l=()=>{const a=e.filter((e=>e.name.toLowerCase().includes(t.value.toLowerCase())));d(a)},d=e=>{n.innerHTML="";for(const t of e){const e=document.createElement("div");e.className="character-card";const a=document.createElement("img");a.className="character-image",a.src=t.image;const c=document.createElement("div");c.className="character-details";const o=document.createElement("span");o.className="character-name",o.textContent=t.name;const s=document.createElement("span");s.className="character-species",s.textContent=t.species;const r=document.createElement("div");r.className="character-location-wrapper";const l=document.createElement("span");l.className="character-location-label",l.textContent="Last known location : ";const d=document.createElement("span");d.textContent=t.location.name;const i=document.createElement("div");i.className="character-episode-wrapper";const m=document.createElement("span");m.className="character-episode-label",m.textContent="First seen in : ";const p=document.createElement("span");(async()=>{const e=t.episode[0],a=await fetch(e),n=await a.json(),c=[n.name,n.episode];return p.textContent=`${c[0]}  (${c[1]})`,c})(),i.appendChild(m),i.appendChild(p),r.appendChild(l),r.appendChild(d),c.appendChild(o),c.appendChild(s),c.appendChild(r),c.appendChild(i),e.appendChild(a),e.appendChild(c),n.appendChild(e)}};t.addEventListener("input",(()=>{l(),(()=>{const n=t.value,c=e.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())));a.innerHTML="";for(const e of c){const n=document.createElement("li");n.textContent=e.name,n.className="autocomplete-result",n.addEventListener("click",(e=>{t.value=e.target.textContent,l(),a.classList.remove("show-autocomplete")})),a.appendChild(n)}a.classList.add("show-autocomplete")})()})),c.addEventListener("click",(()=>{s=!0,r()})),document.addEventListener("click",(e=>{t.contains(e.target)||a.classList.remove("show-autocomplete")})),t.value="",r(),d(e);
//# sourceMappingURL=index.02f84589.js.map
