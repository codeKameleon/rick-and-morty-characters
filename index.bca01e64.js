let e=JSON.parse(localStorage.getItem("characters"))||[];const t=document.querySelector(".searchbar"),a=document.querySelector(".autocomplete-results"),c=document.querySelector(".characters"),o=document.querySelector(".load-more-btn");let s=0,n=!1;const r=async()=>{s++;const t=`https://rickandmortyapi.com/api/character?page=${s}`,a=await fetch(t),c=(await a.json()).results;if(0==e.length||n){for(let t=0;t<c.length;t++)e.push(c[t]);localStorage.setItem("characters",JSON.stringify(e)),i(e)}},l=()=>{const a=e.filter((e=>e.name.toLowerCase().includes(t.value.toLowerCase())));localStorage.setItem("characters",JSON.stringify(a)),i(a)},i=e=>{c.innerHTML="";for(const t of e){const e=document.createElement("div");e.className="character-card";const a=document.createElement("span");a.className="character-name",a.textContent=t.name;const o=document.createElement("span");o.className="character-species",o.textContent=t.species,e.appendChild(a),e.appendChild(o),c.appendChild(e)}};t.addEventListener("input",(()=>{l(),(()=>{const c=t.value,o=e.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())));for(const e of o){const c=document.createElement("li");c.textContent=e.name,c.className="autocomplete-result",c.addEventListener("click",(e=>{t.value=e.target.textContent,l(),a.classList.remove("show-autocomplete")})),a.appendChild(c)}a.classList.add("show-autocomplete")})()})),o.addEventListener("click",(()=>{n=!0,r()})),document.addEventListener("click",(e=>{t.contains(e.target)||a.classList.remove("show-autocomplete")})),t.value="",r(),i(e);
//# sourceMappingURL=index.bca01e64.js.map
